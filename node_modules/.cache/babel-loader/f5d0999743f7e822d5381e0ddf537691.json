{"ast":null,"code":"var _jsxFileName = \"/home/mai/react-app-push&pull/my-app/src/longpolling.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport postData from './helpers/fetch';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Longpolling = props => {\n  _s();\n\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState('');\n\n  const handlesubmit = e => {\n    e.preventDefault();\n    postData('http://localhost:3000/masseges', {\n      message\n    }).then(() => setMessage(''));\n  };\n\n  useEffect(() => {\n    fetch('http://localhost:3000/masseges/subscribe').then(res => res.json()).then(data => setMessages(messages.concat(data)));\n  }, [messages]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"form\",\n        className: \"validate\",\n        onsubmit: handlesubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"message \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"message\",\n            id: \"message\",\n            placeholder: \"message\",\n            required: true,\n            onChange: e => setMessage(e.target.value),\n            value: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"messages\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: messages.map((m, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: m.message\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 43\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Longpolling, \"ciKEAlGcv9UF8Jb6BsKmt3U0Jp8=\");\n\n_c = Longpolling;\nexport default Longpolling;\n\nvar _c;\n\n$RefreshReg$(_c, \"Longpolling\");","map":{"version":3,"sources":["/home/mai/react-app-push&pull/my-app/src/longpolling.js"],"names":["useEffect","useState","postData","Longpolling","props","message","setMessage","messages","setMessages","handlesubmit","e","preventDefault","then","fetch","res","json","data","concat","target","value","map","m","i"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,QAAP,MAAqB,iBAArB;;;;AAEA,MAAMC,WAAW,GAAEC,KAAD,IAAS;AAAA;;AACvB,QAAK,CAACC,OAAD,EAAUC,UAAV,IAAsBL,QAAQ,CAAC,EAAD,CAAnC;AACA,QAAK,CAACM,QAAD,EAAWC,WAAX,IAAwBP,QAAQ,CAAC,EAAD,CAArC;;AAEA,QAAMQ,YAAY,GAAEC,CAAD,IAAK;AACpBA,IAAAA,CAAC,CAACC,cAAF;AACAT,IAAAA,QAAQ,CAAC,gCAAD,EAAkC;AAACG,MAAAA;AAAD,KAAlC,CAAR,CAAqDO,IAArD,CAA0D,MAAIN,UAAU,CAAC,EAAD,CAAxE;AAEH,GAJD;;AAMAN,EAAAA,SAAS,CAAC,MAAI;AACVa,IAAAA,KAAK,CAAC,0CAAD,CAAL,CACCD,IADD,CACOE,GAAD,IAAOA,GAAG,CAACC,IAAJ,EADb,EAECH,IAFD,CAEOI,IAAD,IAAQR,WAAW,CAACD,QAAQ,CAACU,MAAT,CAAgBD,IAAhB,CAAD,CAFzB;AAIH,GALQ,EAKP,CAACT,QAAD,CALO,CAAT;AAMA,sBACA;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,6BACI;AAAM,QAAA,EAAE,EAAC,MAAT;AAAgB,QAAA,SAAS,EAAC,UAA1B;AAAqC,QAAA,QAAQ,EAAEE,YAA/C;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,IAAI,EAAC,SAAxB;AAAkC,YAAA,EAAE,EAAC,SAArC;AAA+C,YAAA,WAAW,EAAC,SAA3D;AAAqE,YAAA,QAAQ,MAA7E;AAA8E,YAAA,QAAQ,EAAGC,CAAD,IAAKJ,UAAU,CAACI,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAvG;AAAyH,YAAA,KAAK,EAAEd;AAAhI;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADF,eAYE;AAAA,6BACI;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA,oBAEQE,QAAQ,CAACa,GAAT,CAAa,CAACC,CAAD,EAAGC,CAAH,kBAAO;AAAA,sBAAaD,CAAC,CAAChB;AAAf,aAASiB,CAAT;AAAA;AAAA;AAAA;AAAA,kBAApB;AAFR;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAZF;AAAA,kBADA;AA4BH,CA5CD;;GAAMnB,W;;KAAAA,W;AA8CN,eAAeA,WAAf","sourcesContent":["import { useEffect, useState } from 'react';\nimport postData from './helpers/fetch';\n\nconst Longpolling=(props)=>{\n    const[message, setMessage]=useState('');\n    const[messages, setMessages]=useState('');\n\n    const handlesubmit=(e)=>{\n        e.preventDefault();\n        postData('http://localhost:3000/masseges',{message}).then(()=>setMessage(''));\n\n    };\n\n    useEffect(()=>{\n        fetch('http://localhost:3000/masseges/subscribe')\n        .then((res)=>res.json())\n        .then((data)=>setMessages(messages.concat(data)));\n\n    },[messages]);\n    return (\n    <>\n      <div className=\"form-wrapper\">\n          <form id=\"form\" className=\"validate\" onsubmit={handlesubmit}>\n              <div className=\"form-field\">\n                  <label>message </label>\n                  <input type=\"text\" name=\"message\" id=\"message\" placeholder=\"message\" required onChange={(e)=>setMessage(e.target.value)} value={message} />\n\n              </div>\n\n          </form>\n         \n      </div>\n      <section>\n          <div>\n              <h2>messages</h2>\n              <ul>\n                  {\n                      messages.map((m,i)=><li key={i}>{m.message}</li>)\n                  }\n              </ul>\n          </div>\n          </section>\n    \n     </>\n      \n\n    );\n};\n\nexport default Longpolling;"]},"metadata":{},"sourceType":"module"}